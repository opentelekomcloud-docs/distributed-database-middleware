:original_name: ddm_11_0002.html

.. _ddm_11_0002:

Key Operations Recorded by CTS
==============================

Cloud Trace Service (CTS) records operations related to DDM for further query, audit, and backtrack.

.. table:: **Table 1** DDM operations that can be recorded by CTS

   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Operation                                                                 | Resource Type  | Trace Name                       |
   +===========================================================================+================+==================================+
   | Applying a parameter template                                             | parameterGroup | applyParameterGroup              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Clearing metadata after a schema is scaled out                            | logicDB        | cleanMigrateLogicDB              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Clearing user resources                                                   | all            | cleanupUserAllResources          |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Replicating a parameter template                                          | parameterGroup | copyParameterGroup               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Creating a DDM instance                                                   | instance       | createInstance                   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Creating a schema                                                         | logicDB        | createLogicDB                    |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Creating a parameter template                                             | parameterGroup | createParameterGroup             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Creating an account                                                       | user           | createUser                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Deleting a DDM instance                                                   | instance       | deleteInstance                   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Deleting a schema                                                         | logicDB        | deleteLogicDB                    |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Deleting a parameter template                                             | parameterGroup | deleteParameterGroup             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Deleting an account                                                       | user           | deleteUser                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Scaling out a DDM instance                                                | instance       | enlargeNode                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Restarting a DDM instance                                                 | instance       | instanceRestart                  |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Importing schema information                                              | instance       | loadMetadata                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Switching the route during scaling                                        | logicDB        | manualSwitchRoute                |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Scaling out a schema                                                      | logicDB        | migrateLogicDB                   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Modifying a parameter template                                            | parameterGroup | modifyParameterGroup             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Changing the route switching time                                         | logicDB        | modifyRouteSwitchTime            |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Modifying an account                                                      | user           | modifyUser                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Scaling in a DDM instance                                                 | instance       | reduceNode                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Resetting a parameter template                                            | parameterGroup | resetParameterGroup              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Resetting the password of an account                                      | user           | resetUserPassword                |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Changing a node class                                                     | instance       | resizeFlavor                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Restoring DB instance data                                                | instance       | restoreInstance                  |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Retrying to scale out a schema                                            | logicDB        | retryMigrateLogicDB              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Rolling back the version upgrade of a DDM instance                        | instance       | rollback                         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Rolling back a schema scaling task                                        | logicDB        | rollbackMigrateLogicDB           |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Configuring access control                                                | instance       | switchIpGroup                    |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Synchronizing data node information                                       | instance       | synRdsinfo                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Upgrading the version of a DDM Instance                                   | instance       | upgrade                          |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Adding a tag                                                              | instance       | addTag                           |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Creating a node group                                                     | group          | createGroup                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Deleting a group                                                          | group          | deleteGroup                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Modifying the floating IP address                                         | instance       | modifyIp                         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Modifying the name of an instance                                         | instance       | modifyName                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Restarting a node                                                         | node           | nodeRestart                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Exporting the instance list                                               | instance       | exportInstance                   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Reloading metadata                                                        | instance       | reloadInstanceConfig             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Changing a database port                                                  | instance       | modifyInstancePort               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the node class change list                                       | instance       | queryFlavor2Resize               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying slow SQL statements                                              | instance       | listSlowLogs                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Obtaining the instance version                                            | instance       | listDatabaseVersions             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying slow log statistics                                              | instance       | querySlowLogAnalysis             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Binding an EIP                                                            | instance       | bindEIP                          |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Unbinding an EIP                                                          | instance       | unbindEIP                        |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Obtaining information about the EIP bound to an instance                  | instance       | queryEIP                         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying a CN session                                                     | instance       | queryLogicalProcessList          |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Killing a CN session                                                      | instance       | killLogicalProcess               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying a DN session                                                     | instance       | queryPhysicalProcessList         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Killing a DN session                                                      | instance       | killPhysicalProcess              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying information about killed sessions                                | instance       | queryKillProcessesAuditLog       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying access control                                                   | instance       | queryIpGroup                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Obtaining the tag list                                                    | tag            | listTags                         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Obtaining the instance tag list                                           | instance       | listInstanceTags                 |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Enabling or disabling SSL for an instance kernel                          | instance       | switchSsl                        |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Obtaining the address for downloading the SSL certificate of an instance  | instance       | getSslCerts                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying schemas                                                          | instance       | listDatabases                    |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Exporting schema information                                              | instance       | dumpMetadata                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the size of a schema                                             | instance       | queryLogicDbSize                 |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Pre-verifying shard configuration                                         | logicDB        | preCheckMigrateLogicDb           |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the shard configuration pre-verification results                 | instance       | queryPreCheckMigrateLogicDb      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying details about a shard configuration task                         | instance       | queryMigrateTaskDetail           |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Updating the SQL blacklist of an instance                                 | logicDB        | configSqlBlackList               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Obtaining the SQL blacklist                                               | logicDB        | querySqlBlacklist                |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Changing the read/write weight of an instance                             | instance       | updateReadAndWriteStrategy       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Changing the read/write weight of instances in batches                    | instance       | batchModifyReadAndWriteStrategy  |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying whether to enable read/write splitting                           | instance       | queryReadWriteSeparationSwitch   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Enabling or disabling read/write splitting                                | instance       | updateReadAndWriteStrategySwitch |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying available data nodes of an instance                              | instance       | ListAvailableRds                 |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying data nodes associated with an instance                           | instance       | queryRelatedRdsList              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying available data nodes for shards configuration                    | logicDB        | queryAvailableMigrateRdsList     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying shards configuration actions for a schema                        | instance       | queryMigrateAction               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying kernel task execution logs                                       | instance       | listTaskLogs                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Checking data node connectivity                                           | instance       | checkRdsConnection               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying logical tables of a schema                                       | logicDB        | listLogicTables                  |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying details of a logical table                                       | table          | showLogicTable                   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying a backup list                                                    | backup         | listBackups                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Deleting a backup                                                         | backup         | deleteBackup                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying backup details                                                   | backup         | showBackup                       |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Restoring metadata                                                        | instance       | restoreMetaData                  |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the associated data node at a specified time point               | instance       | showBackupRelatedDn              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the restoration time                                             | instance       | queryRestoreTime                 |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying RDS instances that can be restored                               | instance       | queryRds4Restore                 |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying instances that can be restored                                   | instance       | queryDDM4Restore                 |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Checking whether the parameter group name exists                          | parameterGroup | checkConfigurationName           |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying parameter groups                                                 | parameterGroup | listConfigurations               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying details about a parameter group                                  | parameterGroup | showConfiguration                |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying instances that a parameter group of a template can be applied to | parameterGroup | queryApplicableInstances         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the parameter group change history                               | parameterGroup | queryModifyHistory               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying application records of a parameter group of a template           | parameterGroup | queryApplyHistory                |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying parameter groups of an instance                                  | instance       | showInstanceConfiguration        |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the size of a logical table                                      | logicDB        | queryLogicTableSize              |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Verifying weak passwords                                                  | project        | isWeakPassword                   |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying read-only data nodes                                             | dn             | queryReadOnlyDBInstance          |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying DDM instances                                                    | instance       | listInstances                    |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying details of a specified instance                                  | instance       | showInstance                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying details about a schema                                           | logicDB        | showDatabase                     |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying nodes of an instance                                             | instance       | listNodes                        |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying details of an instance node                                      | node           | showNode                         |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying accounts                                                         | instance       | listUsers                        |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Changing the security group of an instance                                | instance       | updateInstanceSecurityGroup      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Creating a slow query log download task                                   | instance       | createSlowLogDownload            |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Resetting an administrator account                                        | instance       | resetAdministrator               |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying downloaded slow query log information                            | instance       | querySlowLogDownLoad             |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the result of an asynchronous task                               | job            | showJobResult                    |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the latest shard configuration task for a schema                 | logicDB        | queryLatestMigrateJob            |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying DB engines                                                       | project        | listEngines                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying enterprise projects                                              | project        | listEnterpriseProjects           |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
   | Querying the node class list                                              | project        | listFlavors                      |
   +---------------------------------------------------------------------------+----------------+----------------------------------+
